"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[517],{866:function(e,t,n){var r=n(920),a=n(184);t.Z=function(e){var t=e.isLoading;return(0,a.jsx)(r.NB,{visible:t,height:"80",width:"80",ariaLabel:"blocks-loading",wrapperStyle:{margin:"0 auto"},wrapperClass:"blocks-wrapper",colors:["#e15b64","#f47e60","#f8b26a","#abbd81","#849b87"]})}},517:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var r=n(861),a=n(439),s=n(757),c=n.n(s),i=n(184),o=function(e){var t=e.cast,n=t.profile_path?"https://image.tmdb.org/t/p/w200".concat(t.profile_path):"https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700";return(0,i.jsxs)("li",{children:[(0,i.jsx)("img",{src:n,alt:"cast",width:100}),(0,i.jsx)("p",{children:t.name}),(0,i.jsxs)("p",{children:["Character: ",t.character]})]})},u=n(866),p=n(791),l=n(689),h=n(390),f=function(){var e=(0,l.UO)().movieId,t=(0,p.useState)(!1),n=(0,a.Z)(t,2),s=n[0],f=n[1],d=(0,p.useState)(null),v=(0,a.Z)(d,2),x=v[0],m=v[1],j=(0,p.useState)([]),w=(0,a.Z)(j,2),g=w[0],y=w[1];return(0,p.useEffect)((function(){function t(){return(t=(0,r.Z)(c().mark((function t(){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(!0),t.prev=1,t.next=4,(0,h.Ad)(e);case 4:n=t.sent,y(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),m(t.t0);case 11:return t.prev=11,f(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})))).apply(this,arguments)}e&&function(){t.apply(this,arguments)}()}),[e]),(0,i.jsxs)(i.Fragment,{children:[x&&(0,i.jsxs)("p",{children:["Whoops, something went wrong: ",x.message]}),(0,i.jsx)(u.Z,{isLoading:s}),g.length>0&&!s&&(0,i.jsx)("ul",{children:g.map((function(e){return(0,i.jsx)(o,{cast:e},e.id)}))}),!g.length&&!s&&!x&&(0,i.jsx)("p",{children:"We don't have any cast for this movie."})]})},d=n(87),v=function(){var e,t,n=null!==(e=null===(t=(0,l.TH)().state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/";return(0,i.jsx)(d.rU,{to:n,children:"Go back"})},x=function(){var e,t,n=(0,l.UO)().movieId,r=(0,l.TH)(),a=(0,p.useRef)(null!==(e=null===(t=r.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/");return(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{children:"Additional Information"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(d.rU,{to:"/movies/".concat(n,"/cast"),state:{from:a.current},children:"Cast"})}),(0,i.jsx)("li",{children:(0,i.jsx)(d.rU,{to:"/movies/".concat(n,"/reviews"),state:{from:a.current},children:"Reviews"})})]})]})},m=function(e){var t=e.movie,n=t.poster_path?"https://image.tmdb.org/t/p/w300".concat(t.poster_path):"https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700";return(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)("img",{src:n,alt:"poster",width:250,style:{margin:"10px 10px 0 0"}}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("h3",{children:[t.original_title," (",t.release_date,")"]}),(0,i.jsxs)("p",{children:["Popularity: ",t.popularity]}),(0,i.jsx)("h4",{children:"Overview"}),(0,i.jsx)("p",{children:t.overview}),(0,i.jsx)("h4",{children:"Genres"}),(0,i.jsx)("p",{children:t.genres.map((function(e){return e.name})).join(" ")})]})]})},j=function(e){var t=e.review;return(0,i.jsxs)("li",{children:[(0,i.jsxs)("h5",{children:["Author: ",t.author]}),(0,i.jsx)("p",{children:t.content})]})},w=function(){var e=(0,l.UO)().movieId,t=(0,p.useState)(!1),n=(0,a.Z)(t,2),s=n[0],o=n[1],f=(0,p.useState)(null),d=(0,a.Z)(f,2),v=d[0],x=d[1],m=(0,p.useState)([]),w=(0,a.Z)(m,2),g=w[0],y=w[1];return(0,p.useEffect)((function(){function t(){return(t=(0,r.Z)(c().mark((function t(){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),t.prev=1,t.next=4,(0,h.mo)(e);case 4:n=t.sent,y(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),x(t.t0);case 11:return t.prev=11,o(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})))).apply(this,arguments)}e&&function(){t.apply(this,arguments)}()}),[e]),(0,i.jsxs)(i.Fragment,{children:[v&&(0,i.jsxs)("p",{children:["Whoops, something went wrong: ",v.message]}),(0,i.jsx)(u.Z,{isLoading:s}),g.length>0&&!s&&(0,i.jsx)("ul",{children:g.map((function(e){return(0,i.jsx)(j,{review:e},e.id)}))}),!g.length&&!s&&!v&&(0,i.jsx)("p",{children:"We don't have any reviews for this movie."})]})};function g(e){var t=e.cast,n=e.reviews,s=(0,l.UO)().movieId,o=(0,p.useState)(),u=(0,a.Z)(o,2),d=u[0],j=u[1];return(0,p.useEffect)((function(){function e(){return(e=(0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,h.Mc)(s);case 3:t=e.sent,j(t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}s&&function(){e.apply(this,arguments)}()}),[s]),(0,i.jsxs)("div",{children:[(0,i.jsx)(v,{}),d&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m,{movie:d}),(0,i.jsx)("hr",{}),(0,i.jsx)(x,{}),(0,i.jsx)("hr",{}),t&&(0,i.jsx)(f,{}),n&&(0,i.jsx)(w,{})]})]})}},390:function(e,t,n){n.d(t,{Ad:function(){return f},Mc:function(){return l},mo:function(){return h},yv:function(){return u},z1:function(){return p}});var r=n(861),a=n(757),s=n.n(a),c=n(243),i="https://api.themoviedb.org/3/",o="72aeab2a322c3635130c33f86690232e",u=function(){var e=(0,r.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams({api_key:o}),e.next=3,c.Z.get("".concat(i,"trending/movie/day?").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data.results);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URLSearchParams({api_key:o,query:t}),e.next=3,c.Z.get("".concat(i,"search/movie?").concat(n));case 3:return r=e.sent,e.abrupt("return",r.data.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URLSearchParams({api_key:o}),e.next=3,c.Z.get("".concat(i,"movie/").concat(t,"?").concat(n));case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URLSearchParams({api_key:o}),e.next=3,c.Z.get("".concat(i,"movie/").concat(t,"/reviews?").concat(n));case 3:return r=e.sent,e.abrupt("return",r.data.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URLSearchParams({api_key:o}),e.next=3,c.Z.get("".concat(i,"movie/").concat(t,"/credits?").concat(n));case 3:return r=e.sent,e.abrupt("return",r.data.cast);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=517.b92051f5.chunk.js.map