{"version":3,"file":"static/js/987.d1a0b020.chunk.js","mappings":"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","sources":["components/Loader/Loader.js","webpack://react-homework-template/./src/pages/Searchbar.module.css?0df6","pages/MoviesPage.jsx","services/api.js"],"sourcesContent":["import { ColorRing } from 'react-loader-spinner';\n\nconst Loader = ({ isLoading }) => {\n  return (\n    <ColorRing\n      visible={isLoading}\n      height=\"80\"\n      width=\"80\"\n      ariaLabel=\"blocks-loading\"\n      wrapperStyle={{\n        margin: \"0 auto\"\n      }}\n      wrapperClass=\"blocks-wrapper\"\n      colors={['#e15b64', '#f47e60', '#f8b26a', '#abbd81', '#849b87']}\n    />\n  );\n};\n\nexport default Loader;\n","// extracted by mini-css-extract-plugin\nexport default {\"Searchbar\":\"Searchbar_Searchbar__ZDS6e\",\"SearchForm\":\"Searchbar_SearchForm__gSAmY\",\"SearchFormButton\":\"Searchbar_SearchFormButton__URCp8\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__IwnPX\",\"SearchFormInput\":\"Searchbar_SearchFormInput__aQIOF\"};","import { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport styles from './Searchbar.module.css';\nimport { Formik, Form, Field } from 'formik';\nimport { useEffect, useState } from 'react';\nimport { searchMovies } from 'services/api';\nimport Loader from 'components/Loader/Loader';\n\nconst MoviesPage = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const location = useLocation();\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [movies, setMovies] = useState([]);\n\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    if (!query) return;\n\n    async function fetchData() {\n      setLoading(true);\n      try {\n        const movies = await searchMovies(query);\n        setMovies(movies);\n      } catch (error) {\n        setError(error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchData();\n  }, [query]);\n\n  return (\n    <>\n      <div className={styles.Searchbar}>\n        <Formik\n          initialValues={{ search: '' }}\n          onSubmit={(values, { resetForm }) => {\n            if (!values.search) return;\n\n            setSearchParams({ query: values.search });\n            resetForm();\n          }}\n        >\n          <Form className={styles.SearchForm}>\n            <button type=\"submit\" className={styles.SearchFormButton}>\n              <span className={styles.SearchFormButtonLabel}>Search</span>\n            </button>\n\n            <Field\n              className={styles.SearchFormInput}\n              name=\"search\"\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search movies\"\n            />\n          </Form>\n        </Formik>\n      </div>\n\n      {error && <p>Whoops, something went wrong: {error.message}</p>}\n      <Loader isLoading={loading} />\n\n      {movies.length > 0 && !loading && (\n        <ul>\n          {movies.map(movie => (\n            <li key={movie.id}>\n              <Link\n                to={`/movies/${movie.id}`}\n                state={{ from: location }}\n              >\n                {movie.title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n      {!movies.length && !error && !loading && query && <p>No movies found.</p>}\n    </>\n  );\n};\n\nexport default MoviesPage;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '72aeab2a322c3635130c33f86690232e';\n\nexport const fetchTradingToday = async () => {\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n  });\n\n  const response = await axios.get(`${BASE_URL}trending/movie/day?${params}`);\n  return response.data.results;\n};\n\nexport const searchMovies = async query => {\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n    query,\n  });\n\n  const response = await axios.get(`${BASE_URL}search/movie?${params}`);\n  return response.data.results;\n};\n\nexport const fetchMovieById = async movieId => {\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n  });\n\n  const response = await axios.get(`${BASE_URL}movie/${movieId}?${params}`);\n  return response.data;\n};\n\nexport const fetchReviewsByMovieId = async movieId => {\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n  });\n\n  const response = await axios.get(\n    `${BASE_URL}movie/${movieId}/reviews?${params}`\n  );\n  return response.data.results;\n};\n\nexport const fetchCreditsByMovieId = async movieId => {\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n  });\n\n  const response = await axios.get(\n    `${BASE_URL}movie/${movieId}/credits?${params}`\n  );\n  return response.data.cast;\n};\n\nconst api = {\n  fetchCreditsByMovieId,\n  fetchReviewsByMovieId,\n  fetchTradingToday,\n  fetchMovieById,\n  searchMovies,\n};\n\nexport default api;\n"],"names":["_ref","isLoading","_jsx","ColorRing","visible","height","width","ariaLabel","wrapperStyle","margin","wrapperClass","colors","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchParams","setSearchParams","location","useLocation","_useState","useState","_useState2","loading","setLoading","_useState3","_useState4","error","setError","_useState5","_useState6","movies","setMovies","query","get","useEffect","_fetchData","_asyncToGenerator","_regeneratorRuntime","_callee","_movies","_context","prev","next","searchMovies","sent","t0","finish","stop","apply","arguments","fetchData","_jsxs","_Fragment","children","className","styles","Formik","initialValues","search","onSubmit","values","resetForm","Form","type","Field","name","autoComplete","autoFocus","placeholder","message","Loader","length","map","movie","Link","to","concat","id","state","from","title","BASE_URL","API_KEY","fetchTradingToday","params","response","URLSearchParams","api_key","axios","abrupt","data","results","_ref2","_callee2","_context2","_x","fetchMovieById","_ref3","_callee3","movieId","_context3","_x2","fetchReviewsByMovieId","_ref4","_callee4","_context4","_x3","fetchCreditsByMovieId","_ref5","_callee5","_context5","cast","_x4"],"sourceRoot":""}